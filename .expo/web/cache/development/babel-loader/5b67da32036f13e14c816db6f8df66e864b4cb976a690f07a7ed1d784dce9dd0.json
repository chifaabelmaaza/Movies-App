{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNative = require(\"react-native\");\nvar _GridView = _interopRequireDefault(require(\"./components/GridView\"));\nvar _axios = _interopRequireDefault(require(\"axios\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _this = this,\n  _jsxFileName = \"D:\\\\ReactNative\\\\moviesapp\\\\App.js\";\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nvar URL_API = 'https://api.themoviedb.org/3/movie/popular?api_key=3bfd8af0ddb18a3c704b9b981ea587ce';\nvar IMG_URL = 'https://image.tmdb.org/t/p/w300';\nvar SEARCH_URL = 'https://api.themoviedb.org/3/search/movie?api_key=3bfd8af0ddb18a3c704b9b981ea587ce&query=';\nvar api = _axios.default.create({\n  baseURL: URL_API,\n  headers: {\n    'Content-Type': 'application/json; charset=utf-8'\n  }\n});\nvar api_search = _axios.default.create({\n  baseURL: SEARCH_URL,\n  headers: {\n    'Content-Type': 'application/json; charset=utf-8'\n  }\n});\nvar App = function App() {\n  var _useState = (0, _react.useState)([]),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    films = _useState2[0],\n    setFilms = _useState2[1];\n  var _useState3 = (0, _react.useState)(1),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    numPage = _useState4[0],\n    setNumPage = _useState4[1];\n  var _useState5 = (0, _react.useState)(''),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    kw = _useState6[0],\n    setKw = _useState6[1];\n  (0, _react.useEffect)(function () {\n    var getFilms = function () {\n      var _ref = (0, _asyncToGenerator2.default)(function* () {\n        api.get('', {\n          params: {\n            page: numPage\n          }\n        }).then(function (rep) {\n          return setFilms(rep.data.results);\n        });\n      });\n      return function getFilms() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    if (kw === '') {\n      getFilms();\n    }\n  }, [films, numPage, kw]);\n  var rechercher = function () {\n    var _ref2 = (0, _asyncToGenerator2.default)(function* (motCle) {\n      api_search.get(motCle).then(function (rep) {\n        return setFilms(rep.data.results);\n      });\n    });\n    return function rechercher(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return (0, _jsxRuntime.jsxs)(_reactNative.SafeAreaView, {\n    style: styles.MainContainer,\n    children: [(0, _jsxRuntime.jsxs)(_reactNative.View, {\n      style: {\n        flexDirection: 'row',\n        padding: 10\n      },\n      children: [(0, _jsxRuntime.jsx)(_reactNative.TextInput, {\n        style: {\n          borderWidth: 1,\n          borderColor: '#841584',\n          fontSize: 20,\n          width: '60%',\n          height: 50,\n          marginRight: 5\n        },\n        onChangeText: function onChangeText(value) {\n          return setKw(value);\n        }\n      }), (0, _jsxRuntime.jsx)(_reactNative.View, {\n        style: {\n          width: '35%',\n          height: 50,\n          margin: 5\n        },\n        children: (0, _jsxRuntime.jsx)(_reactNative.Button, {\n          onPress: function onPress() {\n            rechercher(kw);\n          },\n          title: \"Rechercher\",\n          color: \"#841584\"\n        })\n      })]\n    }), (0, _jsxRuntime.jsx)(_reactNative.FlatList, {\n      data: films,\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return (0, _jsxRuntime.jsx)(_GridView.default, {\n          title: item.title,\n          pic: IMG_URL + item.poster_path,\n          date: item.release_date,\n          overview: item.overview\n        });\n      },\n      numColumns: 2,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      }\n    }), (0, _jsxRuntime.jsxs)(_reactNative.View, {\n      style: {\n        flexDirection: 'row',\n        marginRight: 10\n      },\n      children: [(0, _jsxRuntime.jsx)(_reactNative.View, {\n        style: {\n          width: '45%',\n          height: 50,\n          margin: 10\n        },\n        children: (0, _jsxRuntime.jsx)(_reactNative.Button, {\n          onPress: function onPress() {\n            setNumPage(numPage - 1);\n          },\n          title: \"<<\",\n          color: \"#841584\"\n        })\n      }), (0, _jsxRuntime.jsx)(_reactNative.View, {\n        style: {\n          width: '45%',\n          height: 50,\n          margin: 10\n        },\n        children: (0, _jsxRuntime.jsx)(_reactNative.Button, {\n          onPress: function onPress() {\n            setNumPage(numPage + 1);\n          },\n          title: \">>\",\n          color: \"#841584\"\n        })\n      })]\n    })]\n  });\n};\nvar styles = _reactNative.StyleSheet.create({\n  MainContainer: {\n    flex: 1,\n    backgroundColor: 'white'\n  }\n});\nvar _default = App;\nexports.default = _default;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_GridView","_interopRequireDefault","_axios","_jsxRuntime","_this","_jsxFileName","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","URL_API","IMG_URL","SEARCH_URL","api","axios","create","baseURL","headers","api_search","App","_useState","useState","_useState2","_slicedToArray2","films","setFilms","_useState3","_useState4","numPage","setNumPage","_useState5","_useState6","kw","setKw","useEffect","getFilms","_ref","_asyncToGenerator2","params","page","then","rep","data","results","apply","arguments","rechercher","_ref2","motCle","_x","jsxs","SafeAreaView","style","styles","MainContainer","children","View","flexDirection","padding","jsx","TextInput","borderWidth","borderColor","fontSize","width","height","marginRight","onChangeText","value","margin","Button","onPress","title","color","FlatList","renderItem","_ref3","item","pic","poster_path","date","release_date","overview","numColumns","keyExtractor","id","StyleSheet","flex","backgroundColor","_default","exports"],"sources":["D:/ReactNative/moviesapp/App.js"],"sourcesContent":["/* eslint-disable react-native/no-inline-styles */\n/* eslint-disable prettier/prettier */\nimport React, { useEffect, useState } from 'react';\nimport { SafeAreaView, View, TextInput, StyleSheet, FlatList, Button } from 'react-native';\nimport GridView from './components/GridView';\nimport axios from 'axios';\n\nconst URL_API = 'https://api.themoviedb.org/3/movie/popular?api_key=3bfd8af0ddb18a3c704b9b981ea587ce';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w300';\nconst SEARCH_URL = 'https://api.themoviedb.org/3/search/movie?api_key=3bfd8af0ddb18a3c704b9b981ea587ce&query=';\n\nconst api = axios.create({\n  baseURL: URL_API,\n  headers: {\n    'Content-Type': 'application/json; charset=utf-8'\n  }\n});\nconst api_search = axios.create({\n  baseURL: SEARCH_URL,\n  headers: {\n    'Content-Type': 'application/json; charset=utf-8'\n  }\n});\nconst App = () => {\n  const [films, setFilms] = useState([]);\n  const [numPage, setNumPage] = useState(1);\n  const [kw, setKw] = useState('');\n  useEffect(\n    () => {\n      //-------------------------------\n      const getFilms = async () => {\n        api.get('', {\n          params: {\n            page: numPage,\n          }\n        })\n          .then(\n            rep => setFilms(rep.data.results)\n          )\n      }\n      //-------------------------------\n      if (kw === '') {\n        getFilms();\n      }\n\n    }, [films, numPage, kw]\n  );\n  //---------------------------------------------\n  const rechercher = async (motCle) => {\n    api_search.get(motCle)\n      .then(\n        rep => setFilms(rep.data.results)\n      );\n  };\n\n  //-----------------------------------------\n  return (\n    <SafeAreaView style={styles.MainContainer}>\n      <View style={{ flexDirection: 'row', padding: 10 }}>\n        <TextInput\n          style={{ borderWidth: 1, borderColor: '#841584', fontSize: 20, width: '60%', height: 50, marginRight: 5 }}\n          onChangeText={(value) => setKw(value)}\n        />\n        <View style={{ width: '35%', height: 50, margin: 5 }}>\n          <Button\n            onPress={() => { rechercher(kw); }}\n            title=\"Rechercher\"\n            color=\"#841584\" />\n        </View>\n      </View>\n      <FlatList\n        data={films}\n        renderItem={({ item }) => <GridView title={item.title} pic={IMG_URL + item.poster_path} date={item.release_date} overview={item.overview} />}\n        numColumns={2}\n        keyExtractor={item => item.id}\n      />\n      <View style={{ flexDirection: 'row', marginRight: 10 }}>\n        <View style={{ width: '45%', height: 50, margin: 10 }}>\n          <Button\n            onPress={() => { setNumPage(numPage - 1) }}\n            title=\"<<\"\n            color=\"#841584\" />\n        </View>\n        <View style={{ width: '45%', height: 50, margin: 10 }}>\n          <Button\n            onPress={() => { setNumPage(numPage + 1) }}\n            title=\">>\"\n            color=\"#841584\" />\n        </View>\n      </View>\n    </SafeAreaView>\n\n  );\n\n};\nconst styles = StyleSheet.create({\n  MainContainer: {\n    flex: 1,\n    backgroundColor: 'white',\n  },\n});\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}